!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.soundo=e():t.soundo=e()}(self,(()=>(()=>{"use strict";var t={m:{},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},u:t=>t+".soundo.js"};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href;var e={};t.r(e),t.d(e,{ADSR_custom:()=>oe,ADSR_exp:()=>re,ADSR_line:()=>ne,Freeverb:()=>be,default:()=>Se,instruments:()=>Ce,operators:()=>Te,utils:()=>h});var n={};t.r(n),t.d(n,{AM:()=>x,default:()=>E});var r={};t.r(r),t.d(r,{MixCrossfading:()=>G,default:()=>k});var o={};t.r(o),t.d(o,{CHRouter2In6Out:()=>I,default:()=>D});var a={};t.r(a),t.d(a,{FM:()=>z,default:()=>H});var i={};t.r(i),t.d(i,{CHPhaser:()=>Z,default:()=>tt});var c={};t.r(c),t.d(c,{LinearCrossfading:()=>at,default:()=>it});var s={};t.r(s),t.d(s,{MixCrossfading:()=>lt,default:()=>ft});var u={};t.r(u),t.d(u,{RM:()=>ht,default:()=>gt});var p={};t.r(p),t.d(p,{WS:()=>qt,default:()=>wt});var l={};t.r(l),t.d(l,{FM1c2m:()=>Mt,default:()=>Pt});var f={};t.r(f),t.d(f,{FM1c2sm:()=>kt,default:()=>Nt});var m={};t.r(m),t.d(m,{FM2c1m:()=>Dt,default:()=>Wt});var d={};t.r(d),t.d(d,{FMAcim:()=>Ht,default:()=>$t});var _={};t.r(_),t.d(_,{FMselfc:()=>Qt,default:()=>Xt});var h={};function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}t.r(h),t.d(h,{node_exp_ramp:()=>qe,node_line_ramp:()=>we});var v=function(t,e,n){var r=new DocumentFragment;return Object.keys(t.opts).forEach((function(n){var o=w(t,e,n,"param"),a=w(t,e,n,"enum");o&&r.appendChild(o),a&&r.appendChild(a)})),n&&r.appendChild(n(t,e)),r},y=function(t,e,n,r){var o=t||new DocumentFragment;return Object.keys(e.opts).forEach((function(t){var r=w(e,n,t,"param"),a=w(e,n,t,"enum");r&&o.appendChild(r),a&&o.appendChild(a)})),r&&o.appendChild(r(e,n)),o},b=function(t){return{values:["sine","triangle","square","sawtooth"],onchange:function(e){return t.type=e}}},q=function(t,e){t&&Array.prototype.slice.call(t.childNodes).forEach((function(e){return t.removeChild(e)})),e&&(e.port.postMessage({type:"set_running",value:!1}),e.disconnect())};function w(t,e,n,r){var o={param:O,enum:j},a=t.opts[n+"_"+r];if(!a)return null;var i=document.createElement("div");return i.classList.add("container"),(a=Array.isArray(a)?a:[a]).forEach((function(c,s){var u=o[r](t,e,n,c,1===a.length?void 0:s);i.appendChild(u)})),i}function O(t,e,n,r,o){var a=e.ctx,i=t.opts[n],c=r.value||i;"object"===g(c)&&(c=c.value);var s=document.createElement("div");s.classList.add("container","param",n);var u=document.createElement("div");u.classList.add("label"),u.textContent=n+(void 0!==o?"-"+o:"");var p=document.createElement("input");return p.classList.add("input-val"),p.setAttribute("type","number"),p.setAttribute("min",i.min||"0"),i.max&&p.setAttribute("max",i.max),p.setAttribute("step",i.step||"0.1"),p.value=c,p.addEventListener("change",(function(){var e=t.opts[n+"_param"];e&&(e.cancelScheduledValues(a.currentTime),e.setValueAtTime(p.value,a.currentTime))})),s.appendChild(u),s.appendChild(p),s}function j(t,e,n,r,o){var a=r.value||t.opts[n],i=document.createElement("div");i.classList.add("container","enum",n);var c=document.createElement("div");c.classList.add("label"),c.textContent=n+(void 0!==o?"-"+o:"");var s=null;return"int"===r.values?((s=document.createElement("input")).classList.add("input-val"),s.setAttribute("type","number"),s.setAttribute("min","0"),s.setAttribute("step","0.1"),s.value=a,s.addEventListener("change",(function(){r.onchange(s.value)}))):Array.isArray(r.values)&&(s=document.createElement("select"),r.values.forEach((function(t){var e=document.createElement("option");e.value=t,e.textContent=t,s.appendChild(e)})),s.addEventListener("change",(function(){r.onchange(s.value)}))),s?(i.appendChild(c),i.appendChild(s),i):null}var x=function(t){Object.assign(this,{mod:{},opts:Object.assign({carrier_freq:220,carrier_type:"sine",modulator_freq:10,modulator_type:"sine",carrier_g:.8,modulator_g:2},t||{}),init:T.bind(this),start:C.bind(this),stop:S.bind(this)})};const E=x;function T(t){var e=t.ctx,n=t.master_g,r=e.createGain(),o=e.createOscillator(),a=e.createGain(),i=e.createOscillator(),c=e.createGain();o.frequency.value=this.opts.carrier_freq,this.opts.carrier_freq_param=o.frequency,i.frequency.value=this.opts.modulator_freq,this.opts.modulator_freq_param=i.frequency,o.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(o),i.type=this.opts.modulator_type,this.opts.modulator_type_enum=b(i),a.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=a.gain,c.gain.value=this.opts.modulator_g,this.opts.modulator_g_param=c.gain,i.connect(c).connect(a.gain),o.connect(a).connect(r).connect(n),Object.assign(this.mod,{g:r,carrier:o,c_g:a,modulator:i,m_g:c});var s=this;return t.show_docfrag&&(window.AM=this.mod,s=v(this,t)),s}function C(t){var e=this.mod;[e.carrier,e.modulator].forEach((function(t){return t.start()}))}function S(t){var e=this.mod;[e.carrier,e.modulator].forEach((function(t){return t.stop()}))}function A(t){return t}function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function P(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===M(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=null,R=null,G=function(t){Object.assign(this,{mod:{},opts:Object.assign({a1_g:.5,a2_g:.5,cf_amount:{value:.5,max:1},cf_mix_length:{value:.06,step:.01}},t||{}),init:N.bind(this),start:L.bind(this),stop:V.bind(this)})};const k=G;function N(e){var n=this,r=e.ctx,o=e.master_g,a=new A(new URL(t.p+t.u(850),t.b));R=new Promise((function(t){Promise.all([fetch("/audio/drop.wav"),fetch("/audio/voice.wav"),r.audioWorklet.addModule(a)]).then((function(a){var i=new AudioWorkletNode(r,"mix-crossfading-processor",{numberOfInputs:2,numberOfOutputs:2}),c=!0;n.opts.cf_amount_param&&(c=!1);var s=i.parameters.get("amount");s.value=n.opts.cf_amount.value,n.opts.cf_amount_param=s;var u=i.parameters.get("mix_length");if(u.value=n.opts.cf_mix_length.value,n.opts.cf_mix_length_param=u,Object.assign(n.mod,{cfpNode:i}),e.show_docfrag&&e.container&&c){var p=y(F,{opts:{cf_amount:n.opts.cf_amount,cf_amount_param:n.opts.cf_amount_param,cf_mix_length:n.opts.cf_mix_length,cf_mix_length_param:n.opts.cf_mix_length_param}},e);e.container.appendChild(p)}Promise.all([a[0],a[1]].map((function(t){return t.arrayBuffer()}))).then((function(e){var a=[n.opts.a1_g,n.opts.a2_g],c=e.length;e.forEach((function(e,s){r.decodeAudioData(e,(function(e){var u,p=r.createBufferSource(),l=r.createGain(),f=r.createBiquadFilter();p.buffer=e,p.loop=!0,1===s&&(p.detune.value=100,p.playbackRate.value=.4),l.gain.value=a[s],f.type="highpass",f.value=400,p.connect(f).connect(l).connect(i,0,s),i.connect(o),Object.assign(n.mod,(P(u={},"bs_"+s,p),P(u,"bs_g_"+s,l),u)),--c<=0&&t()}))}))}))}))}));var i=this;return e.show_docfrag&&(window.MixCrossfading=this.mod,i=F=v(this,e)),i}function L(t){var e=this;R.then((function(){var t=e.mod;[t.bs_0,t.bs_1].forEach((function(t){return t.start()}))}))}function V(t){var e=this;R.then((function(){var n=e.mod,r=n.bs_0,o=n.bs_1,a=n.cfpNode;[r,o].forEach((function(t){return t.stop()})),q(t.container,a),F=null,R=null}))}var I=function(t){Object.assign(this,{mod:{},opts:Object.assign({osc_l_freq:110,osc_l_type:"sine",osc_l_gain_l:.8,osc_l_gain_r:.2,osc_r_freq:70,osc_r_type:"sine",osc_r_gain_l:.2,osc_r_gain_r:.8},t||{}),init:W.bind(this),start:B.bind(this),stop:U.bind(this)})};const D=I;function W(e){var n=this,r=e.ctx,o=e.master_g,a=new A(new URL(t.p+t.u(950),t.b));r.audioWorklet.addModule(a).then((function(){var t=new AudioWorkletNode(r,"channel-router-processor",{numberOfInputs:2,numberOfOutputs:1,outputChannelCount:[6]});t.port.postMessage({type:"set_channels_mapping",value:{0:0,1:1,2:0,3:1,4:0,5:1}}),t.channelCountMode="explicit",t.channelInterpretation="discrete",r.destination.channelCount=6,r.destination.channelCountMode="explicit",r.destination.channelInterpretation="discrete",o.channelCount=6,o.channelCountMode="explicit",o.channelInterpretation="discrete",s.connect(u).connect(i),s.connect(p).connect(c),l.connect(f).connect(i),l.connect(m).connect(c),i.connect(t,0,0).connect(o),c.connect(t,0,1).connect(o),Object.assign(n.mod,{chrNode:t})}));var i=r.createGain(),c=r.createGain(),s=r.createOscillator(),u=r.createGain(),p=r.createGain();s.frequency.value=this.opts.osc_l_freq,this.opts.osc_l_freq_param=s.frequency,s.type=this.opts.osc_l_type,this.opts.osc_l_type_enum=b(s),u.gain.value=this.opts.osc_l_gain_l,this.opts.osc_l_gain_l_param=u.gain,p.gain.value=this.opts.osc_l_gain_r,this.opts.osc_l_gain_r_param=p.gain;var l=r.createOscillator(),f=r.createGain(),m=r.createGain();l.frequency.value=this.opts.osc_r_freq,this.opts.osc_r_freq_param=l.frequency,l.type=this.opts.osc_r_type,this.opts.osc_r_type_enum=b(l),f.gain.value=this.opts.osc_r_gain_l,this.opts.osc_r_gain_l_param=f.gain,m.gain.value=this.opts.osc_r_gain_r,this.opts.osc_r_gain_r_param=m.gain,Object.assign(this.mod,{osc_l:s,osc_l_gl:u,osc_l_gr:p,osc_r:l,osc_r_gl:f,osc_r_gr:m});var d=this;return e.show_docfrag&&(window.CHRouter2In6Out=this.mod,d=v(this,e)),d}function B(t){var e=this.mod;[e.osc_l,e.osc_r].forEach((function(t){return t.start()}))}function U(t){var e=t.ctx,n=t.master_g,r=t.container;e.destination.channelCount=2,e.destination.channelCountMode="max",e.destination.channelInterpretation="speakers",n.channelCount=2,n.channelCountMode="max",n.channelInterpretation="speakers";var o=this.mod,a=o.osc_l,i=o.osc_r,c=o.chrNode;[a,i].forEach((function(t){return t.stop()})),q(r,c)}var z=function(t){Object.assign(this,{mod:{},opts:Object.assign({carrier_freq:220,carrier_type:"sine",modulator_freq:10,modulator_type:"sine",d_gain:40,carrier_g:.8},t||{}),init:$.bind(this),start:Y.bind(this),stop:J.bind(this)})};const H=z;function $(t){var e=this,n=t.ctx,r=t.master_g,o=n.createOscillator(),a=n.createGain(),i=n.createOscillator(),c=n.createGain();o.frequency.value=this.opts.carrier_freq,i.frequency.value=this.opts.modulator_freq,this.opts.modulator_freq_param=i.frequency,o.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(o),i.type=this.opts.modulator_type,this.opts.modulator_type_enum=b(i),c.gain.value=this.opts.d_gain,this.opts.d_gain_param=c.gain,a.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=a.gain,i.connect(c).connect(o.frequency),o.connect(a).connect(r),Object.assign(this.mod,{carrier:o,c_g:a,modulator:i,d:c,change_i:function(t,e){return i.frequency.value=e||i.frequency.value,c.gain.value=i.frequency.value*t,{d_gain:c.gain.value}},change_i_exp:function(t,e,r){i.frequency.value=e||i.frequency.value;var o=i.frequency.value*t;return c.gain.cancelScheduledValues(n.currentTime),c.gain.setValueAtTime(c.gain.value,n.currentTime),c.gain.exponentialRampToValueAtTime(o,n.currentTime+r),{d_gain:c.gain.value}},change_pitch:function(t){o.frequency.value=t;var n=t*i.frequency.value/o.frequency.value,r=c.gain.value/i.frequency.value;return{mod_freq:n,ratio_tobe_kept:r,d_gain:e.mod.change_i(r,n).d_gain}},change_pitch_exp:function(t,r){o.frequency.setValueAtTime(o.frequency.value,n.currentTime),o.frequency.exponentialRampToValueAtTime(t,n.currentTime+r);var a=t*i.frequency.value/o.frequency.value,s=c.gain.value/i.frequency.value;return{mod_freq:a,ratio_tobe_kept:s,d_gain:e.mod.change_i_exp(s,a,r).d_gain}}});var s=this;return t.show_docfrag&&(window.FM=this.mod,s=v(this,t,K)),s}function Y(t){var e=this.mod;[e.carrier,e.modulator].forEach((function(t){return t.start()}))}function J(t){var e=this.mod;[e.carrier,e.modulator].forEach((function(t){return t.stop()}))}function K(t,e){var n=new DocumentFragment;return["change_i","change_pitch"].forEach((function(e){var r=document.createElement("div");r.classList.add("container");var o=document.createElement("div");o.classList.add("label"),o.textContent=e;var a="change_i"===e?function(){var e=document.createElement("div");return e.classList.add("container","container-opts","change-i"),["ratio","time"].forEach((function(n){var r=document.createElement("div");r.classList.add("opt-container",n);var o=document.createElement("div");o.textContent=n;var a=document.createElement("input");a.classList.add("input-val"),a.value="ratio"===n?t.mod.d.gain.value/t.mod.modulator.frequency.value:0,a.setAttribute("type","number"),a.setAttribute("min","0"),a.setAttribute("step","time"===n?"1":"0.1"),a.addEventListener("change",(function(){var n=Q(e),r=parseInt(n.querySelector(".change-i > .time > .input-val").value),o=parseFloat(n.querySelector(".change-i > .ratio > .input-val").value),a=n.querySelector(".d_gain > .input-val"),i=t.mod.modulator.frequency.value,c=t.mod[r?"change_i_exp":"change_i"](o,i,r).d_gain;a.value=c})),r.appendChild(o),r.appendChild(a),e.appendChild(r)})),e}():function(){var e=document.createElement("div");return e.classList.add("container","container-opts","change-pitch"),["carrier_freq","time"].forEach((function(n){var r=document.createElement("div");r.classList.add("opt-container",n);var o=document.createElement("div");o.textContent=n;var a=document.createElement("input");a.classList.add("input-val"),a.value="carrier_freq"===n?t.mod.carrier.frequency.value:0,a.setAttribute("type","number"),a.setAttribute("min","0"),a.setAttribute("step","time"===n?"1":"0.1"),a.addEventListener("change",(function(){var n=Q(e),r=parseInt(n.querySelector(".change-pitch > .time > .input-val").value),o=parseFloat(n.querySelector(".change-pitch > .carrier_freq > .input-val").value),a=n.querySelector(".change-i > .ratio > .input-val"),i=n.querySelector(".modulator_freq > .input-val"),c=n.querySelector(".d_gain > .input-val"),s=t.mod[r?"change_pitch_exp":"change_pitch"](o,r),u=s.ratio_tobe_kept,p=s.mod_freq,l=s.d_gain;a.value=u,i.value=p,c.value=l})),r.appendChild(o),r.appendChild(a),e.appendChild(r)})),e}();r.appendChild(o),r.appendChild(a),n.appendChild(r)})),n}function Q(t){return t.classList.contains("controls")||t.classList.contains("main-container")?t:Q(t.parentElement)}var X=null,Z=function(t){Object.assign(this,{mod:{},opts:Object.assign({osc_freq:220,osc_type:"sine",chp_freq:5.7},t||{}),init:et.bind(this),start:nt.bind(this),stop:rt.bind(this)})};const tt=Z;function et(e){var n=this,r=e.ctx,o=e.master_g,a=new A(new URL(t.p+t.u(62),t.b));r.audioWorklet.addModule(a).then((function(){var t=new AudioWorkletNode(r,"ch-phaser-processor",{numberOfOutputs:1,outputChannelCount:[2]}),a=!0;n.opts.chp_freq_param&&(a=!1);var c=t.parameters.get("frequency");if(c.value=n.opts.chp_freq,n.opts.chp_freq_param=c,i.connect(t).connect(o),Object.assign(n.mod,{chpNode:t}),e.show_docfrag&&e.container&&a){var s=y(X,{opts:{chp_freq:n.opts.chp_freq,chp_freq_param:n.opts.chp_freq_param}},e);e.container.appendChild(s)}}));var i=r.createOscillator();i.frequency.value=this.opts.osc_freq,this.opts.osc_freq_param=i.frequency,i.type=this.opts.osc_type,this.opts.osc_type_enum=b(i),Object.assign(this.mod,{osc:i});var c=this;return e.show_docfrag&&(window.CHPhaser=this.mod,c=X=v(this,e)),c}function nt(t){this.mod.osc.start()}function rt(t){var e=this.mod,n=e.osc,r=e.chpNode;n.stop(),q(t.container,r),X=null}var ot=null,at=function(t){Object.assign(this,{mod:{},opts:Object.assign({osc1_freq:220,osc1_type:"sine",osc2_freq:110,osc2_type:"sine",cf_amount:.5},t||{}),init:ct.bind(this),start:st.bind(this),stop:ut.bind(this)})};const it=at;function ct(e){var n=this,r=e.ctx,o=e.master_g,a=r.createOscillator();a.frequency.value=this.opts.osc1_freq,this.opts.osc1_freq_param=a.frequency,a.type=this.opts.osc1_type,this.opts.osc1_type_enum=b(a);var i=r.createOscillator();i.frequency.value=this.opts.osc2_freq,this.opts.osc2_freq_param=i.frequency,i.type=this.opts.osc2_type,this.opts.osc2_type_enum=b(i);var c=new A(new URL(t.p+t.u(375),t.b));r.audioWorklet.addModule(c).then((function(){var t=new AudioWorkletNode(r,"linear-crossfading-processor",{numberOfInputs:2,numberOfOutputs:2}),c=!0;n.opts.cf_amount_param&&(c=!1);var s=t.parameters.get("amount");if(s.value=n.opts.cf_amount,n.opts.cf_amount_param=s,a.connect(t),i.connect(t,0,1),t.connect(o),Object.assign(n.mod,{cfpNode:t}),e.show_docfrag&&e.container&&c){var u=y(ot,{opts:{cf_amount:n.opts.cf_amount,cf_amount_param:n.opts.cf_amount_param}},e);e.container.appendChild(u)}})),Object.assign(this.mod,{osc_1:a,osc_2:i});var s=this;return e.show_docfrag&&(window.LinearCrossfading=this.mod,s=ot=v(this,e)),s}function st(t){var e=this.mod;[e.osc_1,e.osc_2].forEach((function(t){return t.start()}))}function ut(t){var e=this.mod,n=e.osc_1,r=e.osc_2,o=e.cfpNode;[n,r].forEach((function(t){return t.stop()})),q(t.container,o),ot=null}var pt=null,lt=function(t){Object.assign(this,{mod:{},opts:Object.assign({osc1_freq:2,osc1_type:"sawtooth",osc2_freq:3.5,osc2_type:"square",cf_amount:{value:.2,max:1},cf_mix_length:{value:.01,step:.01}},t||{}),init:mt.bind(this),start:dt.bind(this),stop:_t.bind(this)})};const ft=lt;function mt(e){var n=this,r=e.ctx,o=e.master_g,a=r.createOscillator();a.frequency.value=this.opts.osc1_freq,this.opts.osc1_freq_param=a.frequency,a.type=this.opts.osc1_type,this.opts.osc1_type_enum=b(a);var i=r.createOscillator();i.frequency.value=this.opts.osc2_freq,this.opts.osc2_freq_param=i.frequency,i.type=this.opts.osc2_type,this.opts.osc2_type_enum=b(i);var c=new A(new URL(t.p+t.u(693),t.b));r.audioWorklet.addModule(c).then((function(){var t=new AudioWorkletNode(r,"mix-crossfading-processor",{numberOfInputs:2,numberOfOutputs:2}),c=!0;n.opts.cf_amount_param&&(c=!1);var s=t.parameters.get("amount");s.value=n.opts.cf_amount.value,n.opts.cf_amount_param=s;var u=t.parameters.get("mix_length");if(u.value=n.opts.cf_mix_length.value,n.opts.cf_mix_length_param=u,a.connect(t),i.connect(t,0,1),t.connect(o),Object.assign(n.mod,{cfpNode:t}),e.show_docfrag&&e.container&&c){var p=y(pt,{opts:{cf_amount:n.opts.cf_amount,cf_amount_param:n.opts.cf_amount_param,cf_mix_length:n.opts.cf_mix_length,cf_mix_length_param:n.opts.cf_mix_length_param}},e);e.container.appendChild(p)}})),Object.assign(this.mod,{osc_1:a,osc_2:i});var s=this;return e.show_docfrag&&(window.MixCrossfading=this.mod,s=pt=v(this,e)),s}function dt(t){var e=this.mod;[e.osc_1,e.osc_2].forEach((function(t){return t.start()}))}function _t(t){var e=this.mod,n=e.osc_1,r=e.osc_2,o=e.cfpNode;[n,r].forEach((function(t){return t.stop()})),q(t.container,o),pt=null}var ht=function(t){return Object.assign(this,{mod:{},opts:Object.assign({carrier_freq:220,carrier_type:"sine",modulator_freq:10,modulator_type:"sine",carrier_g:.8,modulator_g:2},t||{}),init:vt.bind(this),start:yt.bind(this),stop:bt.bind(this)})};const gt=ht;function vt(t){var e=t.ctx,n=t.master_g,r=e.createOscillator(),o=e.createGain(),a=e.createOscillator(),i=e.createGain();r.frequency.value=this.opts.carrier_freq,this.opts.carrier_freq_param=r.frequency,a.frequency.value=this.opts.modulator_freq,this.opts.modulator_freq_param=a.frequency,r.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(r),a.type=this.opts.modulator_type,this.opts.modulator_type_enum=b(a),o.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=o.gain,i.gain.value=this.opts.modulator_g,this.opts.modulator_g_param=i.gain,a.connect(i).connect(o),r.connect(o).connect(n),Object.assign(this.mod,{carrier:r,c_g:o,modulator:a,m_g:i});var c=this;return t.show_docfrag&&(window.RM=this.mod,c=v(this,t)),c}function yt(t){var e=this.mod;[e.carrier,e.modulator].forEach((function(t){return t.start()}))}function bt(t){var e=this.mod;[e.carrier,e.modulator].forEach((function(t){return t.stop()}))}var qt=function(t){Object.assign(this,{mod:{},opts:Object.assign({carrier_freq:220,carrier_type:"sine",carrier_g:1,shaping_amount:4,shaping_harmonics:[.1,.1,.1,.1,.1],shaping_fn:"distortion"},t||{}),init:Ot.bind(this),start:St.bind(this),stop:At.bind(this)})};const wt=qt;function Ot(t){var e=this,n=t.ctx,r=t.master_g,o=n.createWaveShaper(),a=n.createOscillator(),i=n.createGain();a.frequency.value=this.opts.carrier_freq,this.opts.carrier_freq_param=a.frequency,a.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(a),i.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=i.gain;var c=this.opts.shaping_harmonics.length,s=this.opts.shaping_harmonics,u=this.opts.shaping_amount,p={distortion:{fn:xt,set_args:function(t,n){return t.bind(null,parseFloat(n||e.opts.shaping_amount))}},chebishev:{fn:Et,set_args:function(t,e){return Object.assign(t.bind(null,c,s.map((function(t){return t*parseFloat(e||1)}))),Object.assign({},Tt))}}},l=p[this.opts.shaping_fn];o.curve=jt(n,l.set_args(l.fn)),this.opts.shaping_harmonics_enum=s.map((function(t,e){return{values:"int",value:t,onchange:function(t){s[e]=parseFloat(t),o.curve=jt(n,l.set_args(l.fn,u))}}})),this.opts.shaping_amount_enum={values:"int",onchange:function(t){u=parseFloat(t),o.curve=jt(n,l.set_args(l.fn,u))}},this.opts.shaping_fn_enum={values:["distortion","chebishev"],onchange:function(t){l=p[t],o.curve=jt(n,l.set_args(l.fn,u))}},a.connect(i).connect(o).connect(r),Object.assign(this.mod,{carrier:a,c_g:i,ws:o});var f=this;return t.show_docfrag&&(window.WS=this.mod,f=v(this,t)),f}function jt(t,e){var n=t.sampleRate,r=new Float32Array(n);e.init_processing&&e.init_processing(e);for(var o=0;o<n;o++){var a=2*o/n-1;r[o]=e(a),e.step_processing&&e.step_processing(e,r[o])}return e.post_processing?e.post_processing(e,r):r}function xt(t,e){var n="number"==typeof t?t:50;return(3+n)*e*20*(Math.PI/180)/(Math.PI+n*Math.abs(e))}function Et(t,e,n){var r=function(n){for(var r=Ct(1,n),o=2;o<t+2;o++)r+=e[o-2]*Ct(o,n);return r};return r(n)-r(0)}var Tt={f1_max:Number.NEGATIVE_INFINITY,init_processing:function(t){return t.f1_max=Number.NEGATIVE_INFINITY},step_processing:function(t,e){return t.f1_max=Math.max(t.f1_max,e)},post_processing:function(t,e){for(var n=0;n<e.length;n++)e[n]/=t.f1_max;return e}};function Ct(t,e){return 0===t?1:1===t?e:2*e*Ct(t-1,e)+Ct(t-2,e)}function St(t){this.mod.carrier.start()}function At(t){this.mod.carrier.stop()}var Mt=function(t){Object.assign(this,{mod:{},opts:Object.assign({modulator1_freq:7,modulator1_type:"sine",d1_gain:40,modulator2_freq:22,modulator2_type:"sine",d2_gain:20,mods_g:1,carrier_freq:100,carrier_type:"sine",carrier_g:1},t||{}),init:Ft.bind(this),start:Rt.bind(this),stop:Gt.bind(this)})};const Pt=Mt;function Ft(t){var e=t.ctx,n=t.master_g,r=e.createOscillator(),o=e.createGain(),a=e.createOscillator(),i=e.createGain(),c=e.createGain(),s=e.createOscillator(),u=e.createGain();return r.frequency.value=this.opts.modulator1_freq,this.opts.modulator1_freq_param=r.frequency,o.gain.value=this.opts.d1_gain,this.opts.d1_gain_param=o.gain,a.frequency.value=this.opts.modulator2_freq,this.opts.modulator2_freq_param=a.frequency,i.gain.value=this.opts.d2_gain,this.opts.d2_gain_param=i.gain,c.gain.value=this.opts.mods_g,this.opts.mods_g_param=c.gain,s.frequency.value=this.opts.carrier_freq,this.opts.carrier_freq_param=s.frequency,u.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=u.gain,s.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(s),r.type=this.opts.modulator1_type,this.opts.modulator1_type_enum=b(r),a.type=this.opts.modulator2_type,this.opts.modulator2_type_enum=b(a),r.connect(o),a.connect(i),o.connect(c),i.connect(c.gain),c.connect(s.frequency),s.connect(u),u.connect(n),Object.assign(this.mod,{m1:r,d1:o,m2:a,d2:i,mods_g:c,c:s,g:u}),window.FM1c2m=this.mod,t.show_docfrag?v(this,t):this}function Rt(t){var e=this.mod;[e.m1,e.m2,e.c].forEach((function(t){return t.start()}))}function Gt(t){var e=this.mod;[e.m1,e.m2,e.c].forEach((function(t){return t.stop()}))}var kt=function(t){Object.assign(this,{mod:{},opts:Object.assign({modulator1_freq:7,modulator1_type:"sine",d1_gain:40,modulator2_freq:22,modulator2_type:"sine",d2_gain:20,mods_g:1,carrier_freq:100,carrier_type:"sine",carrier_g:1},t||{}),init:Lt.bind(this),start:Vt.bind(this),stop:It.bind(this)})};const Nt=kt;function Lt(t){var e=t.ctx,n=t.master_g,r=e.createOscillator(),o=e.createGain(),a=e.createOscillator(),i=e.createGain(),c=e.createGain(),s=e.createOscillator(),u=e.createGain();return r.frequency.value=this.opts.modulator1_freq,this.opts.modulator1_freq_param=r.frequency,o.gain.value=this.opts.d1_gain,this.opts.d1_gain_param=o.gain,a.frequency.value=this.opts.modulator2_freq,this.opts.modulator2_freq_param=a.frequency,i.gain.value=this.opts.d2_gain,this.opts.d2_gain_param=i.gain,c.gain.value=this.opts.mods_g,this.opts.mods_g_param=c.gain,s.frequency.value=this.opts.carrier_freq,this.opts.carrier_freq_param=s.frequency,s.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(s),r.type=this.opts.modulator1_type,this.opts.modulator1_type_enum=b(r),a.type=this.opts.modulator2_type,this.opts.modulator2_type_enum=b(a),u.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=u.gain,r.connect(o),a.connect(i),o.connect(a.frequency),i.connect(c),c.connect(s.frequency),s.connect(u),u.connect(n),Object.assign(this.mod,{m1:r,d1:o,m2:a,d2:i,mods_g:c,c:s,g:u}),window.FM1c2sm=this.mod,t.show_docfrag?v(this,t):this}function Vt(t){var e=this.mod;[e.m1,e.m2,e.c].forEach((function(t){return t.start()}))}function It(t){var e=this.mod;[e.m1,e.m2,e.c].forEach((function(t){return t.stop()}))}var Dt=function(t){Object.assign(this,{mod:{},opts:Object.assign({modulator_freq:7,modulator_type:"sine",d_gain:40,carrier1_freq:200,carrier1_type:"sine",carrier2_freq:40,carrier2_type:"sine",carrier_g:.1},t||{}),init:Bt.bind(this),start:Ut.bind(this),stop:zt.bind(this)})};const Wt=Dt;function Bt(t){var e=t.ctx,n=t.master_g,r=e.createOscillator(),o=e.createGain(),a=e.createOscillator(),i=e.createOscillator(),c=e.createGain();return r.frequency.value=this.opts.modulator_freq,this.opts.modulator_freq_param=r.frequency,o.gain.value=this.opts.d_gain,this.opts.d_gain_param=o.gain,a.frequency.value=this.opts.carrier1_freq,this.opts.carrier1_freq_param=a.frequency,i.frequency.value=this.opts.carrier2_freq,this.opts.carrier2_freq_param=i.frequency,c.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=c.gain,r.type=this.opts.modulator_type,this.opts.modulator_type_enum=b(r),a.type=this.opts.carrier1_type,this.opts.carrier1_type_enum=b(a),i.type=this.opts.carrier2_type,this.opts.carrier2_type_enum=b(i),r.connect(o),o.connect(a.frequency),o.connect(i.frequency),a.connect(c),i.connect(c.gain),c.connect(n),Object.assign(this.mod,{m:r,d:o,c1:a,c2:i,g:c}),window.FM2c1m=this.mod,t.show_docfrag?v(this,t):this}function Ut(t){var e=this.mod;[e.m,e.c1,e.c2].forEach((function(t){return t.start()}))}function zt(t){var e=this.mod;[e.m,e.c1,e.c2].forEach((function(t){return t.stop()}))}var Ht=function(t){Object.assign(this,{mod:{},opts:Object.assign({m1_carrier_freq:80,m1_modulatr_freq:20,m1_d_gain:10,m1_carrier_g:.8,m2_carrier_freq:120,m2_modulator_freq:22,m2_d_gain:10,m2_carrier_g:.8,inst_g:1},t||{}),init:Yt.bind(this),start:Jt.bind(this),stop:Kt.bind(this)})};const $t=Ht;function Yt(t){var e=t.ctx,n=t.master_g,r=e.createGain(),o=new z({carrier_freq:this.opts.m1_carrier_freq,modulator_freq:this.opts.m1_modulatr_freq,d_gain:this.opts.m1_d_gain,master_g:r,show_docfrag:t.show_docfrag}),a=new z({carrier_freq:this.opts.m2_carrier_freq,modulator_freq:this.opts.m2_modulator_freq,d_gain:this.opts.m2_d_gain,master_g:r.gain,show_docfrag:t.show_docfrag});r.gain.value=this.opts.inst_g;var i=o.init(t),c=a.init(t);return r.connect(n),Object.assign(this.mod,{m1:o,m2:a}),window.FMAcim=this.mod,t.show_docfrag?function(t,e,n,r){var o=new DocumentFragment;return[n,r].forEach((function(t,e){var n=document.createElement("div"),r=e+1;n.classList.add("main-container","opt-container","fm-acim","mod-"+r);var a=document.createElement("div");a.classList.add("label"),a.textContent="FM MOD "+r,n.appendChild(a),n.appendChild(t),o.appendChild(n)})),o}(0,0,i,c):this}function Jt(t){var e=this;Object.keys(this.mod).forEach((function(t){var n=e.mod[t].mod;[n.carrier,n.modulator].forEach((function(t){return t.start()}))}))}function Kt(t){var e=this;Object.keys(this.mod).forEach((function(t){var n=e.mod[t].mod;[n.carrier,n.modulator].forEach((function(t){return t.stop()}))}))}var Qt=function(t){Object.assign(this,{mod:{},opts:Object.assign({mod_g:1,carrier_freq:100,carrier_type:"sine",carrier_g:1},t||{}),init:Zt.bind(this),start:te.bind(this),stop:ee.bind(this)})};const Xt=Qt;function Zt(t){var e=t.ctx,n=t.master_g,r=e.createGain(),o=e.createOscillator(),a=e.createGain();return r.gain.value=this.opts.mod_g,this.opts.mod_g_param=r.gain,o.frequency.value=this.opts.carrier_freq,this.opts.carrier_freq_param=o.frequency,o.type=this.opts.carrier_type,this.opts.carrier_type_enum=b(o),a.gain.value=this.opts.carrier_g,this.opts.carrier_g_param=a.gain,o.connect(a),a.connect(r),r.connect(o.frequency),a.connect(n),Object.assign(this.mod,{c:o,g:a,mod_g:r}),window.FM_selfc=this.mod,t.show_docfrag?v(this,t):this}function te(t){this.mod.c.start()}function ee(t){this.mod.c.stop()}function ne(t){var e=t.audioContext,n=t.node,r=t.startVal,o=t.a,a=t.d,i=t.s,c=t.r;n.cancelScheduledValues(e.currentTime),n.setValueAtTime(r,e.currentTime),[o,a,i,c].forEach((function(t,r,o){var a=t.val,i=t.tconst,c=o.reduce((function(t,e,n){return n<=r?t+e.time:t}),0);i?n.setTargetAtTime(a||1e-5,e.currentTime+c,i):n.linearRampToValueAtTime(a||1e-5,e.currentTime+c)}))}function re(t){var e=t.audioContext,n=t.node,r=t.startVal,o=t.a,a=t.d,i=t.s,c=t.r;n.cancelScheduledValues(e.currentTime),n.setValueAtTime(r,e.currentTime),[o,a,i,c].forEach((function(t,r,o){var a=t.val,i=t.tconst,c=o.reduce((function(t,e,n){return n<=r?t+e.time:t}),0);i?n.setTargetAtTime(a||1e-5,e.currentTime+c,i):n.exponentialRampToValueAtTime(a||1e-5,e.currentTime+c)}))}function oe(t){var e=t.audioContext,n=t.node,r=t.startVal,o=t.a,a=t.d,i=t.s,c=t.r;n.cancelScheduledValues(e.currentTime),n.setValueAtTime(r,e.currentTime),n.exponentialRampToValueAtTime(o.val,e.currentTime+o.time),n.exponentialRampToValueAtTime(a.val,e.currentTime+o.time+a.time),n.setTargetAtTime(i.val,e.currentTime+o.time+a.time+i.time,Math.exp(-(o.time+a.time+i.time))),n.exponentialRampToValueAtTime(c.val||1e-5,e.currentTime+o.time+a.time+i.time+c.time)}function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ae(o)?o:String(o)),r)}var o}var ce=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.audioCtx=e,this._input=this.audioCtx.createGain(),this._output=this.audioCtx.createGain()}var e,n;return e=t,n=[{key:"_isCompositeAudioNode",get:function(){return!0}},{key:"connect",value:function(){this._output.connect.apply(this._output,arguments)}},{key:"disconnect",value:function(){this._output.disconnect.apply(this._output,arguments)}}],n&&ie(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function se(t){var e=t[0],n={};return Object.getOwnPropertyNames(AudioParam.prototype).filter((function(t){return"function"==typeof e[t]})).forEach((function(r){n[r]=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];var i=Array.prototype.slice.call(o);t.forEach((function(t){e[r].apply(t,i)}))}})),Object.defineProperties(n,{value:{get:function(){return e.value},set:function(e){t.forEach((function(t){t.value=e}))}}}),n}function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ue(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ue(o)?o:String(o)),r)}var o}function le(t,e){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},le(t,e)}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}"object"!==("undefined"==typeof window?"undefined":ae(window))||AudioNode.prototype.connectIsModified||(AudioNode.prototype._connect=AudioNode.prototype.connect,AudioNode.prototype.connect=function(){var t=Array.prototype.slice.call(arguments);return t[0]._isCompositeAudioNode?this._connect.apply(this,[t[0]._input].concat(t.slice(1))):this._connect.apply(this,t),t[0]},AudioNode.prototype.connectIsModified=!0);var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&le(t,e)}(i,t);var e,n,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fe(r);if(o){var n=fe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=a.call(this,t,e);var r=e.delayTime,o=e.resonance,c=e.dampening;return n._lowPass=new BiquadFilterNode(t,{type:"lowpass",frequency:c}),n._delay=new DelayNode(t,{delayTime:r}),n._gain=t.createGain(),n._gain.gain.setValueAtTime(o,t.currentTime),n._input.connect(n._delay).connect(n._lowPass).connect(n._gain).connect(n._input).connect(n._output),n}return e=i,(n=[{key:"resonance",get:function(){return this._gain.gain}},{key:"dampening",get:function(){return this._lowPass.frequency}},{key:"delayTime",get:function(){return this._delay.delayTime}}])&&pe(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(ce);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===de(o)?o:String(o)),r)}var o}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}var ve=[1557,1617,1491,1422,1277,1356,1188,1116],ye=[225,556,441,341],be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(i,t);var e,n,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ge(r);if(o){var n=ge(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=a.call(this,t,e);var r=e.roomSize,o=e.dampening,c=e.wetGain,s=e.dryGain;n._wet=t.createGain(),n._wet.gain.setValueAtTime(c,t.currentTime),n._dry=t.createGain(),n._dry.gain.setValueAtTime(s,t.currentTime),n._combFilters=ve.map((function(t){return t/44100})).map((function(e){return new me(t,{dampening:o,resonance:r,delayTime:e})}));var u=t.createChannelMerger(2),p=t.createChannelSplitter(2),l=n._combFilters.slice(0,4),f=n._combFilters.slice(4),m=ye.map((function(e){return function(t,e){var n=t.createBiquadFilter();return n.type="allpass",n.frequency.value=e,n}(t,e)}));return n._input.connect(n._wet).connect(p),n._input.connect(n._dry).connect(n._output),l.forEach((function(t){p.connect(t,0).connect(u,0,0)})),f.forEach((function(t){p.connect(t,1).connect(u,0,1)})),u.connect(m[0]).connect(m[1]).connect(m[2]).connect(m[3]).connect(n._output),n}return e=i,(n=[{key:"wetGain",get:function(){return this._wet.gain}},{key:"dryGain",get:function(){return this._dry.gain}},{key:"roomSize",get:function(){return se(this._combFilters.map((function(t){return t.resonance})))}},{key:"dampening",get:function(){return se(this._combFilters.map((function(t){return t.dampening})))}}])&&_e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(ce);function qe(t,e,n){e.cancelScheduledValues(t.currentTime),e.setValueAtTime(e.value,t.currentTime),n.forEach((function(n){var r=n.toval,o=n.time;e.exponentialRampToValueAtTime(r,t.currentTime+o)}))}function we(t,e,n){e.cancelScheduledValues(t.currentTime),e.setValueAtTime(e.value,t.currentTime),n.forEach((function(n){var r=n.toval,o=n.time;e.linearRampToValueAtTime(r,t.currentTime+o)}))}var Oe={};Oe.WS=p,Oe.RM=u,Oe.MixCrossfading=s,Oe.LinearCrossfading=c,Oe.FuzzyPhaser=i,Oe.FM=a,Oe.ChannelRouter2In6Out=o,Oe.AudioMixCrossfading=r,Oe.AM=n;var je=Oe,xe={};xe.FMselfc=_,xe.FMAcim=d,xe.FM2c1m=m,xe.FM1c2sm=f,xe.FM1c2m=l;var Ee=xe,Te={},Ce={};Object.keys(je).forEach((function(t){Te[t]=je[t].default})),Object.keys(Ee).forEach((function(t){Ce[t]=Ee[t].default}));const Se={operators:Te,instruments:Ce,ADSR_line:ne,ADSR_exp:re,ADSR_custom:oe,Freeverb:be,utils:h};return e})()));